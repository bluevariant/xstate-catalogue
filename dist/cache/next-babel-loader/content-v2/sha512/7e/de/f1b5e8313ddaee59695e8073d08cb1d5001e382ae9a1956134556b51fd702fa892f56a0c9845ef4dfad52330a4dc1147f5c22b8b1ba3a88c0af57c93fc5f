{"ast":null,"code":"import _defineProperty from \"C:/Users/dccxx/Projects/js/xstate-catalogue/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"C:/Users/dccxx/Projects/js/xstate-catalogue/node_modules/next/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"C:/Users/dccxx/Projects/js/xstate-catalogue/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\dccxx\\\\Projects\\\\js\\\\xstate-catalogue\\\\lib\\\\MachineHelpers.tsx\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useSelector, useService } from '@xstate/react';\nimport React, { useContext, useEffect, useRef } from 'react';\nexport var MachineHelpersContext = /*#__PURE__*/React.createContext({});\nexport var State = function State(props) {\n  _s();\n\n  var context = useContext(MachineHelpersContext);\n\n  var _useService = useService(context.service),\n      _useService2 = _slicedToArray(_useService, 1),\n      state = _useService2[0];\n\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"font-mono inline-flex flex-wrap font-bold text-sm \",\n    children: props.children.split('.').map(function (a, index, array) {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"transition-colors py-1 \".concat(index === 0 && 'pl-2', \" \").concat(index === array.length - 1 && 'pr-2', \" \").concat(state.matches(props.children) ? \"bg-green-100 text-green-800\" : 'bg-gray-100 text-gray-600'),\n        children: [a, index !== array.length - 1 && '.']\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, _this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(State, \"AtPSf+eJ4CKxnKeYfhRoWknuEu8=\", false, function () {\n  return [useService];\n});\n\n_c = State;\nexport var Event = function Event(props) {\n  _s2();\n\n  var _context$metadata, _context$metadata$eve;\n\n  var context = useContext(MachineHelpersContext);\n\n  var _useService3 = useService(context.service),\n      _useService4 = _slicedToArray(_useService3, 2),\n      state = _useService4[0],\n      send = _useService4[1];\n\n  var children = props.children,\n      event = _objectWithoutProperties(props, [\"children\"]);\n\n  var defaultEvent = ((_context$metadata = context.metadata) === null || _context$metadata === void 0 ? void 0 : (_context$metadata$eve = _context$metadata.eventPayloads) === null || _context$metadata$eve === void 0 ? void 0 : _context$metadata$eve[props.children]) || {};\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"text-left\",\n    onClick: function onClick() {\n      send(_objectSpread(_objectSpread(_objectSpread({}, defaultEvent), event), {}, {\n        type: props.children\n      }));\n    } // To override prose\n    ,\n    style: {\n      margin: 0\n    },\n    children: /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"font-mono inline-flex flex-wrap font-bold text-sm \",\n      children: props.children.split('.').map(function (a, index, array) {\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"transition-colors py-1 \".concat(index === 0 && 'pl-2', \" \").concat(index === array.length - 1 && 'pr-2', \" \").concat(state.nextEvents.includes(props.children) ? \"bg-yellow-100 text-yellow-800\" : 'bg-gray-100 text-gray-600'),\n          children: [a, index !== array.length - 1 && '.']\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, _this);\n};\n\n_s2(Event, \"5MAQQsy95RgG2v5TXW6YPbnElec=\", false, function () {\n  return [useService];\n});\n\n_c2 = Event;\nexport var Action = function Action(props) {\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"bg-gray-100 text-gray-600 font-mono font-bold text-sm px-2 py-1 transition-colors\",\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, _this);\n};\n_c3 = Action;\nexport var Guard = function Guard(props) {\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"bg-gray-100 text-gray-600 font-mono font-bold text-sm px-2 py-1 transition-colors\",\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, _this);\n};\n_c4 = Guard;\nexport var Context = function Context(props) {\n  _s3();\n\n  var _state$context$props$;\n\n  var context = useContext(MachineHelpersContext);\n\n  var _useService5 = useService(context.service),\n      _useService6 = _slicedToArray(_useService5, 1),\n      state = _useService6[0];\n\n  var transform = function transform(entry) {\n    return entry;\n  };\n\n  if (props.stringify) {\n    transform = function transform(entry) {\n      return JSON.stringify(entry, null, 2);\n    };\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"bg-gray-100 text-gray-600 font-mono inline-flex flex-wrap font-bold text-sm px-2 py-1 transition-colors \".concat(state.context[props.children] ? \"bg-yellow-100 text-yellow-800\" : ''),\n    children: [props.children, \":\", ' ', transform((_state$context$props$ = state.context[props.children]) !== null && _state$context$props$ !== void 0 ? _state$context$props$ : 'undefined')]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, _this);\n};\n\n_s3(Context, \"AtPSf+eJ4CKxnKeYfhRoWknuEu8=\", false, function () {\n  return [useService];\n});\n\n_c5 = Context;\nexport var WholeContext = function WholeContext() {\n  _s4();\n\n  var context = useContext(MachineHelpersContext);\n  var jsonContext = useSelector(context.service, function (state) {\n    return JSON.stringify(state.context, null, 2);\n  });\n  var jsonContextRef = useRef(null);\n  useEffect(function () {\n    // @ts-ignore\n    var hljs = window.hljs;\n\n    if (hljs) {\n      hljs.highlightBlock(jsonContextRef.current);\n    }\n  }, [jsonContextRef, jsonContext]);\n  return /*#__PURE__*/_jsxDEV(\"pre\", {\n    children: /*#__PURE__*/_jsxDEV(\"code\", {\n      ref: jsonContextRef,\n      className: \"json\",\n      children: jsonContext\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, _this);\n};\n\n_s4(WholeContext, \"DDV3NFQ1NK0eDKRqbfQ1jcRt33s=\", false, function () {\n  return [useSelector];\n});\n\n_c6 = WholeContext;\nexport var Service = function Service(props) {\n  _s5();\n\n  var context = useContext(MachineHelpersContext);\n  var isCurrentlyInvoked = useSelector(context.service, function (state) {\n    var nodesWhichInvokeThisService = state.configuration.filter(function (node) {\n      return node.invoke.some(function (invoke) {\n        return invoke.src === props.children;\n      });\n    });\n    var isCurrentlyInvoked = nodesWhichInvokeThisService.some(function (node) {\n      return state.matches(node.path);\n    });\n    return isCurrentlyInvoked;\n  });\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"font-mono inline-flex flex-wrap font-bold text-sm px-2 py-1 transition-colors relative \".concat(isCurrentlyInvoked ? \"bg-blue-100 text-blue-800\" : \"bg-gray-100 text-gray-600\"),\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 5\n  }, _this);\n};\n\n_s5(Service, \"mmLgXVZz/Cltc/7QaFGCp2muavk=\", false, function () {\n  return [useSelector];\n});\n\n_c7 = Service;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"State\");\n$RefreshReg$(_c2, \"Event\");\n$RefreshReg$(_c3, \"Action\");\n$RefreshReg$(_c4, \"Guard\");\n$RefreshReg$(_c5, \"Context\");\n$RefreshReg$(_c6, \"WholeContext\");\n$RefreshReg$(_c7, \"Service\");","map":{"version":3,"sources":["C:/Users/dccxx/Projects/js/xstate-catalogue/lib/MachineHelpers.tsx"],"names":["useSelector","useService","React","useContext","useEffect","useRef","MachineHelpersContext","createContext","State","props","context","service","state","children","split","map","a","index","array","length","matches","Event","send","event","defaultEvent","metadata","eventPayloads","type","margin","nextEvents","includes","Action","Guard","Context","transform","entry","stringify","JSON","WholeContext","jsonContext","jsonContextRef","hljs","window","highlightBlock","current","Service","isCurrentlyInvoked","nodesWhichInvokeThisService","configuration","filter","node","invoke","some","src","path"],"mappings":"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","sourcesContent":["import { useSelector, useService } from '@xstate/react';\r\nimport React, { useContext, useEffect, useRef } from 'react';\r\nimport { Interpreter } from 'xstate';\r\n\r\nexport const MachineHelpersContext = React.createContext<{\r\n  service: Interpreter<any, any, any>;\r\n  metadata?: MDXMetadata;\r\n}>({} as any);\r\n\r\nexport interface MDXMetadata {\r\n  eventPayloads?: {\r\n    [eventType: string]: any;\r\n  };\r\n}\r\n\r\nexport const State = (props: { children: string }) => {\r\n  const context = useContext(MachineHelpersContext);\r\n  const [state] = useService(context.service);\r\n  return (\r\n    <span className={`font-mono inline-flex flex-wrap font-bold text-sm `}>\r\n      {props.children.split('.').map((a, index, array) => (\r\n        <span\r\n          key={index}\r\n          className={`transition-colors py-1 ${index === 0 && 'pl-2'} ${\r\n            index === array.length - 1 && 'pr-2'\r\n          } ${\r\n            state.matches(props.children)\r\n              ? `bg-green-100 text-green-800`\r\n              : 'bg-gray-100 text-gray-600'\r\n          }`}\r\n        >\r\n          {a}\r\n          {index !== array.length - 1 && '.'}\r\n        </span>\r\n      ))}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport const Event = (props: { children: string }) => {\r\n  const context = useContext(MachineHelpersContext);\r\n  const [state, send] = useService(context.service);\r\n\r\n  const { children, ...event } = props;\r\n\r\n  const defaultEvent = context.metadata?.eventPayloads?.[props.children] || {};\r\n\r\n  return (\r\n    <button\r\n      className=\"text-left\"\r\n      onClick={() => {\r\n        send({\r\n          ...defaultEvent,\r\n          ...event,\r\n          type: props.children,\r\n        });\r\n      }}\r\n      // To override prose\r\n      style={{ margin: 0 }}\r\n    >\r\n      <span className={`font-mono inline-flex flex-wrap font-bold text-sm `}>\r\n        {props.children.split('.').map((a, index, array) => (\r\n          <span\r\n            key={index}\r\n            className={`transition-colors py-1 ${index === 0 && 'pl-2'} ${\r\n              index === array.length - 1 && 'pr-2'\r\n            } ${\r\n              state.nextEvents.includes(props.children)\r\n                ? `bg-yellow-100 text-yellow-800`\r\n                : 'bg-gray-100 text-gray-600'\r\n            }`}\r\n          >\r\n            {a}\r\n            {index !== array.length - 1 && '.'}\r\n          </span>\r\n        ))}\r\n      </span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport const Action = (props: { children: string }) => {\r\n  return (\r\n    <span\r\n      className={`bg-gray-100 text-gray-600 font-mono font-bold text-sm px-2 py-1 transition-colors`}\r\n    >\r\n      {props.children}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport const Guard = (props: { children: string }) => {\r\n  return (\r\n    <span\r\n      className={`bg-gray-100 text-gray-600 font-mono font-bold text-sm px-2 py-1 transition-colors`}\r\n    >\r\n      {props.children}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport const Context = (props: { children: string; stringify?: boolean }) => {\r\n  const context = useContext(MachineHelpersContext);\r\n  const [state] = useService(context.service);\r\n\r\n  let transform = (entry: string) => entry;\r\n\r\n  if (props.stringify) {\r\n    transform = (entry) => JSON.stringify(entry, null, 2);\r\n  }\r\n  return (\r\n    <span\r\n      className={`bg-gray-100 text-gray-600 font-mono inline-flex flex-wrap font-bold text-sm px-2 py-1 transition-colors ${\r\n        state.context[props.children] ? `bg-yellow-100 text-yellow-800` : ''\r\n      }`}\r\n    >\r\n      {props.children}:{' '}\r\n      {transform(state.context[props.children] ?? 'undefined')}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport const WholeContext = () => {\r\n  const context = useContext(MachineHelpersContext);\r\n  const jsonContext = useSelector(context.service, (state) => {\r\n    return JSON.stringify(state.context, null, 2);\r\n  });\r\n  const jsonContextRef = useRef(null);\r\n  useEffect(() => {\r\n    // @ts-ignore\r\n    const hljs: any = window.hljs;\r\n    if (hljs) {\r\n      hljs.highlightBlock(jsonContextRef.current);\r\n    }\r\n  }, [jsonContextRef, jsonContext]);\r\n  return (\r\n    <pre>\r\n      <code ref={jsonContextRef} className=\"json\">\r\n        {jsonContext}\r\n      </code>\r\n    </pre>\r\n  );\r\n};\r\n\r\nexport const Service = (props: { children: string }) => {\r\n  const context = useContext(MachineHelpersContext);\r\n  const isCurrentlyInvoked = useSelector(context.service, (state) => {\r\n    const nodesWhichInvokeThisService = state.configuration.filter((node) => {\r\n      return node.invoke.some((invoke) => invoke.src === props.children);\r\n    });\r\n\r\n    const isCurrentlyInvoked = nodesWhichInvokeThisService.some((node) =>\r\n      state.matches(node.path),\r\n    );\r\n    return isCurrentlyInvoked;\r\n  });\r\n\r\n  return (\r\n    <span\r\n      className={`font-mono inline-flex flex-wrap font-bold text-sm px-2 py-1 transition-colors relative ${\r\n        isCurrentlyInvoked\r\n          ? `bg-blue-100 text-blue-800`\r\n          : `bg-gray-100 text-gray-600`\r\n      }`}\r\n    >\r\n      {props.children}\r\n    </span>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}